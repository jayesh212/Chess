(this.webpackJsonpchess=this.webpackJsonpchess||[]).push([[0],[,,,,,,,,,function(e,n,t){},,function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var i,a,c,l=t(1),r=t(4),s=t.n(r),o=t(2),u=(t(9),t(0)),d=function(e){var n=e.gameJoined,t=e.gameCreated,i=Object(l.useState)(""),a=Object(o.a)(i,2),c=a[0],r=a[1],s=Object(l.useState)("create"),d=Object(o.a)(s,2),f=d[0],b=d[1],h=Object(l.useState)(""),j=Object(o.a)(h,2),m=j[0],g=j[1],v=Object(l.useState)(""),k=Object(o.a)(v,2),O=k[0],p=k[1];return Object(u.jsxs)("div",{className:"gameMenu",children:[Object(u.jsx)("button",{className:"menuButton",onClick:function(){0!==O.length&&p(""),fetch("/createGame",{method:"POST",headers:{"content-Type":"application/x-www-form-urlencoded"},body:""}).then((function(e){return e.json()})).then((function(e){e.error?p(e.error):t(""+e.gameCode)})).catch((function(e){p("Server is Temporarily Down")}))},children:"Create Game"}),Object(u.jsx)("button",{className:"menuButton",onClick:function(){0!==O.length&&p(""),b("create"===f?"join":"create")},children:"Join Game"}),"join"===f&&Object(u.jsxs)("div",{className:"joinGame",children:[Object(u.jsx)("input",{value:c,id:"gameCodeInput",type:"number",onChange:function(e){0!==O.length&&p(""),r(e.target.value),g("")}}),0!==m.length&&Object(u.jsx)("p",{className:"error",children:m}),Object(u.jsx)("button",{onClick:function(){0!==O.length&&p(""),parseInt(c)<0?g("Game Code Must Be 6 digits long and greater than 0"):c.length<6?g("Game Code Must have 6 digits"):fetch("/joinGame",{method:"POST",headers:{"content-Type":"application/x-www-form-urlencoded"},body:"gameCode=".concat(c)}).then((function(e){return e.json()})).then((function(e){e.error?g(e.error):n(c)})).catch((function(e){p("Server is Temporarily Down")}))},className:"menuButton",children:"Join"})]}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),0!==O.length&&Object(u.jsx)("p",{className:"error",children:O})]})},f=(t(11),t.p+"static/media/loading.fbc1491d.gif"),b=function(e,n){fetch("/gameStatus",{method:"POST",headers:{"content-Type":"application/x-www-form-urlencoded"},body:"gameCode=".concat(e)}).then((function(e){return e.json()})).then((function(e){e.error?console.log(e.error):"started"===e.status&&n()}))},h=function(e){var n=e.gameCode,t=e.onGameStart,a=e.onGameOver;Object(l.useEffect)((function(){return i=setInterval(b,4e3,n,t),function(){clearInterval(i)}}),[n,t]);return Object(u.jsxs)("div",{className:"waitingArea",children:[Object(u.jsx)("span",{className:"text",children:"Waiting For Other Player To Join"}),Object(u.jsx)("img",{src:f,alt:"loading animation"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{className:"text",children:"Tell Your Friend to Enter "}),Object(u.jsx)("span",{className:"goldenText",children:n}),Object(u.jsx)("span",{className:"text",children:" While Joining"})]}),Object(u.jsx)("button",{className:"menuButton",onClick:function(){fetch("/endGame",{method:"POST",headers:{"content-Type":"application/x-www-form-urlencoded"},body:"gameCode=".concat(n)}).then((function(e){return e.json()})).then((function(e){clearInterval(i),a()})).catch((function(e){clearInterval(i),a()}))},children:"Leave Game"})]})},j=(t(12),t.p+"static/media/WaitingAnimation.ee6baeb2.gif"),m=t.p+"static/media/b_pawn_svg_withShadow.34d6948d.svg",g=t.p+"static/media/w_pawn_svg_withShadow.de5882b0.svg",v=t.p+"static/media/b_bishop_svg_withShadow.f7f6b5d3.svg",k=t.p+"static/media/w_bishop_svg_withShadow.42872944.svg",O=t.p+"static/media/b_rook_svg_withShadow.422f10a5.svg",p=t.p+"static/media/w_rook_svg_withShadow.a153f98a.svg",w=t.p+"static/media/b_knight_svg_withShadow.0387a993.svg",x=t.p+"static/media/w_knight_svg_withShadow.6dd6bdfa.svg",S=t.p+"static/media/w_queen_svg_withShadow.8c8e5983.svg",_=t.p+"static/media/b_queen_svg_withShadow.ccfaab28.svg",C=t.p+"static/media/w_king_svg_withShadow.76b46069.svg",I=t.p+"static/media/b_king_svg_withShadow.77ed9883.svg",y=(t(13),[m,v,O,w,_,I]),T=[g,k,p,x,S,C],N=[],G=[];!function(){var e;for(e=0;e<64;e++)N[e]=null,G[e]=!1;for(e=8;e<=15;e++)N[e]=g;for(e=48;e<=55;e++)N[e]=m;N[56]=O,N[63]=O,N[0]=p,N[7]=p,N[57]=w,N[62]=w,N[1]=x,N[6]=x,N[58]=v,N[61]=v,N[2]=k,N[5]=k,N[3]=S,N[59]=_,N[4]=C,N[60]=I}();var J=function(e){var n=e.id,t=e.highlight,i=e.piece,a=e.onClick,c="lightSquare";return t&&(c="lightSquareHighlighted"),Object(u.jsx)("div",{className:"square "+c,onClick:function(){a(i,n)},children:i&&Object(u.jsx)("img",{alt:"",src:i})},n)},B=function(e){var n=e.id,t=e.highlight,i=e.piece,a=e.onClick,c="darkSquare";return t&&(c="darkSquareHighlighted"),Object(u.jsx)("div",{className:"square "+c,onClick:function(){a(i,n)},children:i&&Object(u.jsx)("img",{alt:"",src:i})},n)},P=function(e){var n,t,i=e.player,r=e.gameCode,s=e.onGameOver,d=[],f=[];f="WHITE"===i?T:y;var b=function(e,n){var t="gameCode=".concat(e,"&player=").concat(n);fetch("/getNextMove",{method:"POST",headers:{"content-Type":"application/x-www-form-urlencoded"},body:t}).then((function(e){return e.json()})).then((function(e){e.error?console.log(e.error):"Ok"===e.status&&(console.log(e),U(parseInt(e.toI),parseInt(e.toJ),parseInt(e.fromI),parseInt(e.fromJ)),clearInterval(a),c=!1,Q(!1))}))};for(n=0;n<64;n++)G[n]=!1;var h=Object(l.useState)(N),P=Object(o.a)(h,2),A=P[0],W=P[1],q=Object(l.useState)(null),E=Object(o.a)(q,2),H=E[0],M=E[1],L=Object(l.useState)(G),F=Object(o.a)(L,2),K=F[0],D=F[1],Y=Object(l.useState)(!1),R=Object(o.a)(Y,2),z=R[0],Q=R[1];Object(l.useEffect)((function(){if("BLACK"===i)return a=setInterval(b,4e3,r,i),Q(!0),function(){clearInterval(a)}}),[i,r]),Object(l.useEffect)((function(){c="BLACK"===i}),[i]);var U=function(e,n,t,i){var a=[];console.log("Piece Moved");for(var c=0;c<64;c++)a[c]=N[c];a[8*e+n]=a[8*t+i],a[8*t+i]=null,N[8*e+n]=N[8*t+i],N[8*t+i]=null,W(a)},V=function(e,n,t,l){var s="gameCode=".concat(r,"&player=").concat(i,"&toI=").concat(e,"&toJ=").concat(n,"&fromI=").concat(t,"&fromJ=").concat(l);fetch("/movePiece",{method:"POST",headers:{"content-Type":"application/x-www-form-urlencoded"},body:s}).then((function(e){return e.json()})).then((function(e){e.error?console.log(e.error):"Ok"===e.status&&(clearInterval(a),a=setInterval(b,4e3,r,i),c=!0,Q(!0))}))},X=function(e,n){var t,i,a=[];for(t=0;t<64;t++)a[t]=!1;if(null!==e){var c=parseInt(n.charAt(0)),l=parseInt(n.charAt(2));if(a[8*c+l]=!0,e===m)6===c?(null===A[8*(c-1)+l]&&(a[8*(c-1)+l]=!0),null===A[8*(c-1)+l]&&null===A[8*(c-2)+l]&&(a[8*(c-2)+l]=!0)):0!==c&&null===A[8*(c-1)+l]&&(a[8*(c-1)+l]=!0),0===c||0===l||null==A[8*(c-1)+l-1]||f.includes(A[8*(c-1)+l-1])||(a[8*(c-1)+l-1]=!0),0===c||7===l||null===A[8*(c-1)+l+1]||f.includes(A[8*(c-1)+l+1])||(a[8*(c-1)+l+1]=!0);else if(e===I)l<7&&!f.includes(A[8*c+l+1])&&(a[8*c+l+1]=!0),l>0&&!f.includes(A[8*c+l-1])&&(a[8*c+l-1]=!0),c<7&&!f.includes(A[8*(c+1)+l])&&(a[8*(c+1)+l]=!0),c>0&&!f.includes(A[8*(c-1)+l])&&(a[8*(c-1)+l]=!0),c>0&&l>0&&!f.includes(A[8*(c-1)+l-1])&&(a[8*(c-1)+l-1]=!0),c>0&&l<7&&!f.includes(A[8*(c-1)+l+1])&&(a[8*(c-1)+l+1]=!0),c<7&&l>0&&!f.includes(A[8*(c+1)+l-1])&&(a[8*(c+1)+l-1]=!0),c<7&&l<7&&!f.includes(A[8*(c+1)+l+1])&&(a[8*(c+1)+l+1]=!0);else if(e===_){for(t=c+1,i=l+1;t<=7&&i<=7;t++,i++){if(a[8*t+i]=!0,f.includes(A[8*t+i])){a[8*t+i]=!1;break}if(null!==A[8*t+i])break}for(t=c-1,i=l-1;t>=0&&i>=0;t--,i--){if(a[8*t+i]=!0,f.includes(A[8*t+i])){a[8*t+i]=!1;break}if(null!==A[8*t+i])break}for(t=c-1,i=l+1;t>=0&&i<=7;t--,i++){if(a[8*t+i]=!0,f.includes(A[8*t+i])){a[8*t+i]=!1;break}if(null!==A[8*t+i])break}for(t=c+1,i=l-1;t<=7&&i>=0;t++,i--){if(a[8*t+i]=!0,f.includes(A[8*t+i])){a[8*t+i]=!1;break}if(null!==A[8*t+i])break}for(t=c+1;t<=7;t++){if(a[8*t+l]=!0,f.includes(A[8*t+l])){a[8*t+l]=!1;break}if(null!==A[8*t+l])break}for(t=c-1;t>=0;t--){if(a[8*t+l]=!0,f.includes(A[8*t+l])){a[8*t+l]=!1;break}if(null!==A[8*t+l])break}for(t=l+1;t<=7;t++){if(a[8*c+t]=!0,f.includes(A[8*c+t])){a[8*c+t]=!1;break}if(null!==A[8*c+t])break}for(t=l-1;t>=0;t--){if(a[8*c+t]=!0,f.includes(A[8*c+t])){a[8*c+t]=!1;break}if(null!==A[8*c+t])break}}else if(e===v){for(t=c+1,i=l+1;t<=7&&i<=7;t++,i++){if(a[8*t+i]=!0,f.includes(A[8*t+i])){a[8*t+i]=!1;break}if(null!==A[8*t+i])break}for(t=c-1,i=l-1;t>=0&&i>=0;t--,i--){if(a[8*t+i]=!0,f.includes(A[8*t+i])){a[8*t+i]=!1;break}if(null!==A[8*t+i])break}for(t=c-1,i=l+1;t>=0&&i<=7;t--,i++){if(a[8*t+i]=!0,f.includes(A[8*t+i])){a[8*t+i]=!1;break}if(null!==A[8*t+i])break}for(t=c+1,i=l-1;t<=7&&i>=0;t++,i--){if(a[8*t+i]=!0,f.includes(A[8*t+i])){a[8*t+i]=!1;break}if(null!==A[8*t+i])break}}else if(e===w)c>1&&l>0&&!f.includes(A[8*(c-2)+l-1])&&(a[8*(c-2)+l-1]=!0),c>1&&l<7&&!f.includes(A[8*(c-2)+l+1])&&(a[8*(c-2)+l+1]=!0),c<6&&l>0&&!f.includes(A[8*(c+2)+l-1])&&(a[8*(c+2)+l-1]=!0),c<6&&l<7&&!f.includes(A[8*(c+2)+l+1])&&(a[8*(c+2)+l+1]=!0),c<7&&l<6&&!f.includes(A[8*(c+1)+l+2])&&(a[8*(c+1)+l+2]=!0),c>0&&l<6&&!f.includes(A[8*(c-1)+l+2])&&(a[8*(c-1)+l+2]=!0),c<7&&l>1&&!f.includes(A[8*(c+1)+l-2])&&(a[8*(c+1)+l-2]=!0),c>0&&l>1&&!f.includes(A[8*(c-1)+l-2])&&(a[8*(c-1)+l-2]=!0);else if(e===O){for(t=c+1;t<=7;t++){if(a[8*t+l]=!0,f.includes(A[8*t+l])){a[8*t+l]=!1;break}if(null!==A[8*t+l])break}for(t=c-1;t>=0;t--){if(a[8*t+l]=!0,f.includes(A[8*t+l])){a[8*t+l]=!1;break}if(null!==A[8*t+l])break}for(t=l+1;t<=7;t++){if(a[8*c+t]=!0,f.includes(A[8*c+t])){a[8*c+t]=!1;break}if(null!==A[8*c+t])break}for(t=l-1;t>=0;t--){if(a[8*c+t]=!0,f.includes(A[8*c+t])){a[8*c+t]=!1;break}if(null!==A[8*c+t])break}}else if(e===g)1===c?(null===A[8*(c+1)+l]&&(a[8*(c+1)+l]=!0),null===(null===A[8*(c+1)+l]&&A[8*(c+2)+l])&&(a[8*(c+2)+l]=!0)):7!==c&&null===A[8*(c+1)+l]&&(a[8*(c+1)+l]=!0),7===c||0===l||null==A[8*(c+1)+l-1]||f.includes(A[8*(c+1)+l-1])||(a[8*(c+1)+l-1]=!0),7===c||7===l||null===A[8*(c+1)+l+1]||f.includes(A[8*(c+1)+l+1])||(a[8*(c+1)+l+1]=!0);else if(e===C)l<7&&!f.includes(A[8*c+l+1])&&(a[8*c+l+1]=!0),l>0&&!f.includes(A[8*c+l-1])&&(a[8*c+l-1]=!0),c<7&&!f.includes(A[8*(c+1)+l])&&(a[8*(c+1)+l]=!0),c>0&&!f.includes(A[8*(c-1)+l])&&(a[8*(c-1)+l]=!0),c>0&&l>0&&!f.includes(A[8*(c-1)+l-1])&&(a[8*(c-1)+l-1]=!0),c>0&&l<7&&!f.includes(A[8*(c-1)+l+1])&&(a[8*(c-1)+l+1]=!0),c<7&&l>0&&!f.includes(A[8*(c+1)+l-1])&&(a[8*(c+1)+l-1]=!0),c<7&&l<7&&!f.includes(A[8*(c+1)+l+1])&&(a[8*(c+1)+l+1]=!0);else if(e===S){for(t=c+1,i=l+1;t<=7&&i<=7;t++,i++){if(a[8*t+i]=!0,f.includes(A[8*t+i])){a[8*t+i]=!1;break}if(null!==A[8*t+i])break}for(t=c-1,i=l-1;t>=0&&i>=0;t--,i--){if(a[8*t+i]=!0,f.includes(A[8*t+i])){a[8*t+i]=!1;break}if(null!==A[8*t+i])break}for(t=c-1,i=l+1;t>=0&&i<=7;t--,i++){if(a[8*t+i]=!0,f.includes(A[8*t+i])){a[8*t+i]=!1;break}if(null!==A[8*t+i])break}for(t=c+1,i=l-1;t<=7&&i>=0;t++,i--){if(a[8*t+i]=!0,f.includes(A[8*t+i])){a[8*t+i]=!1;break}if(null!==A[8*t+i])break}for(t=c+1;t<=7;t++){if(a[8*t+l]=!0,f.includes(A[8*t+l])){a[8*t+l]=!1;break}if(null!==A[8*t+l])break}for(t=c-1;t>=0;t--){if(a[8*t+l]=!0,f.includes(A[8*t+l])){a[8*t+l]=!1;break}if(null!==A[8*t+l])break}for(t=l+1;t<=7;t++){if(a[8*c+t]=!0,f.includes(A[8*c+t])){a[8*c+t]=!1;break}if(null!==A[8*c+t])break}for(t=l-1;t>=0;t--){if(a[8*c+t]=!0,f.includes(A[8*c+t])){a[8*c+t]=!1;break}if(null!==A[8*c+t])break}}else if(e===k){for(t=c+1,i=l+1;t<=7&&i<=7;t++,i++){if(a[8*t+i]=!0,f.includes(A[8*t+i])){a[8*t+i]=!1;break}if(null!==A[8*t+i])break}for(t=c-1,i=l-1;t>=0&&i>=0;t--,i--){if(a[8*t+i]=!0,f.includes(A[8*t+i])){a[8*t+i]=!1;break}if(null!==A[8*t+i])break}for(t=c-1,i=l+1;t>=0&&i<=7;t--,i++){if(a[8*t+i]=!0,f.includes(A[8*t+i])){a[8*t+i]=!1;break}if(null!==A[8*t+i])break}for(t=c+1,i=l-1;t<=7&&i>=0;t++,i--){if(a[8*t+i]=!0,f.includes(A[8*t+i])){a[8*t+i]=!1;break}if(null!==A[8*t+i])break}}else if(e===x)c>1&&l>0&&!f.includes(A[8*(c-2)+l-1])&&(a[8*(c-2)+l-1]=!0),c>1&&l<7&&!f.includes(A[8*(c-2)+l+1])&&(a[8*(c-2)+l+1]=!0),c<6&&l>0&&!f.includes(A[8*(c+2)+l-1])&&(a[8*(c+2)+l-1]=!0),c<6&&l<7&&!f.includes(A[8*(c+2)+l+1])&&(a[8*(c+2)+l+1]=!0),c<7&&l<6&&!f.includes(A[8*(c+1)+l+2])&&(a[8*(c+1)+l+2]=!0),c>0&&l<6&&!f.includes(A[8*(c-1)+l+2])&&(a[8*(c-1)+l+2]=!0),c<7&&l>1&&!f.includes(A[8*(c+1)+l-2])&&(a[8*(c+1)+l-2]=!0),c>0&&l>1&&!f.includes(A[8*(c-1)+l-2])&&(a[8*(c-1)+l-2]=!0);else if(e===p){for(t=c+1;t<=7;t++){if(a[8*t+l]=!0,f.includes(A[8*t+l])){a[8*t+l]=!1;break}if(null!==A[8*t+l])break}for(t=c-1;t>=0;t--){if(a[8*t+l]=!0,f.includes(A[8*t+l])){a[8*t+l]=!1;break}if(null!==A[8*t+l])break}for(t=l+1;t<=7;t++){if(a[8*c+t]=!0,f.includes(A[8*c+t])){a[8*c+t]=!1;break}if(null!==A[8*c+t])break}for(t=l-1;t>=0;t--){if(a[8*c+t]=!0,f.includes(A[8*c+t])){a[8*c+t]=!1;break}if(null!==A[8*c+t])break}}D(a)}else D(a)},Z=function(e,n){var t=parseInt(n.charAt(0)),i=parseInt(n.charAt(2));if(!c)if(null===e&&null===H)M(null),X(e,n);else if(null===e&&null!==H){var a=H[0],l=H[1];!K[8*t+i]||t===a&&i===l||(U(t,i,a,l),V(t,i,a,l)),M(null);for(var r=[],s=0;s<64;s++)r[s]=!1;D(r)}else if(null!==e&&null===H&&f.includes(e))M([t,i]),X(e,n);else if(null!==e&&null!==H){a=H[0],l=H[1];if(!K[8*t+i]||t===a&&i===l)f.includes(e)&&(M([t,i]),X(e,n));else{U(t,i,a,l),V(t,i,a,l),M(null);for(r=[],s=0;s<64;s++)r[s]=!1;D(r)}}};for(n=7;n>=0;n--)for(t=0;t<8;t++)(n+t)%2===0?d.push(Object(u.jsx)(B,{highlight:K[8*n+t],id:n+"|"+t,piece:A[8*n+t],onClick:Z},n+"|"+t)):d.push(Object(u.jsx)(J,{highlight:K[8*n+t],id:n+"|"+t,piece:A[8*n+t],onClick:Z},n+"|"+t));return Object(u.jsxs)("div",{className:"Game",children:[Object(u.jsx)("div",{}),Object(u.jsx)("div",{className:"Board",children:d}),Object(u.jsxs)("div",{className:"gameInfo",children:[Object(u.jsxs)("div",{children:[z&&Object(u.jsxs)("div",{className:"playerStatus",children:[Object(u.jsx)("span",{className:"gameStatusText",children:"Waiting For Opponents Move"}),Object(u.jsx)("img",{src:j,alt:"Opponent's Turn"})]}),!z&&Object(u.jsx)("div",{className:"playerStatus",children:Object(u.jsx)("span",{className:"gameStatusText",children:"Your Turn"})})]}),Object(u.jsx)("button",{className:"resignButton",onClick:function(){fetch("/endGame",{method:"POST",headers:{"content-Type":"application/x-www-form-urlencoded"},body:"gameCode=".concat(r)}).then((function(e){return e.json()})).then((function(e){clearInterval(a),s()})).catch((function(e){clearInterval(a),s()}))},children:"Resign"})]})]})},A=function(e){var n=e.player,t=e.gameCode,i=e.onGameOver;return Object(u.jsx)("div",{children:Object(u.jsx)(P,{player:n,gameCode:t,onGameOver:i})})},W=function(){var e=Object(l.useState)("Home"),n=Object(o.a)(e,2),t=n[0],i=n[1],a=Object(l.useState)("WHITE"),c=Object(o.a)(a,2),r=c[0],s=c[1],f=Object(l.useState)(""),b=Object(o.a)(f,2),j=b[0],m=b[1],g=function(){i("Home")};return Object(u.jsxs)("div",{children:["Home"===t&&Object(u.jsx)(d,{gameCreated:function(e){s("WHITE"),i("Waiting"),m(e)},gameJoined:function(e){s("BLACK"),i("Game"),m(e)}}),"Waiting"===t&&Object(u.jsx)(h,{onGameStart:function(){i("Game")},onGameOver:g,gameCode:j}),"Game"===t&&Object(u.jsx)(A,{player:r,gameCode:j,onGameOver:g})]})};t(14);s.a.render(Object(u.jsx)(W,{}),document.getElementById("root"))}],[[15,1,2]]]);
//# sourceMappingURL=main.8b2eb72b.chunk.js.map